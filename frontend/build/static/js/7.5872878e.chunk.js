(this["webpackJsonpexercise-tracker"]=this["webpackJsonpexercise-tracker"]||[]).push([[7],{188:function(e,t,c){"use strict";c.r(t);var n=c(54),r=c.n(n),s=c(181),a=c(55),o=c(11),i=c(1),l=c(0),u=c.n(l),d=c(53),j=c(61),b=c(9);var h=function(e){var t=new Date(e.date),c=t.getMonth()+1;return t=t.getDate()+"/"+c+"/"+t.getFullYear(),Object(i.jsx)(u.a.Fragment,{children:Object(i.jsxs)("tr",{className:"exercise-row center",children:[Object(i.jsx)("td",{className:"exercise-column",children:e.title}),Object(i.jsx)("td",{className:"exercise-column",children:e.bodyLocation}),Object(i.jsx)("td",{className:"exercise-column",children:e.reps}),Object(i.jsx)("td",{className:"exercise-column",children:e.sets}),Object(i.jsx)("td",{className:"exercise-column",children:e.weight}),Object(i.jsx)("td",{className:"exercise-column",children:t}),Object(i.jsxs)("td",{className:"exercise-column links",children:[Object(i.jsx)(b.b,{to:"/exercises/update/".concat(e.id),children:" Edit "}),Object(i.jsx)("p",{}),Object(i.jsx)(b.b,{to:"#",onClick:function(){var t=e.id;e.showWarning(t)},children:"Delete"})]})]})})},x=c(59),O=c(19),f=c(63),m=c(60),p=c(13),v=c(176),g=c.n(v);c(177);var N=function(e){var t=Object(l.useContext)(p.a),c=Object(m.a)(),n=c.isLoading,s=c.error,b=c.clearError,v=c.sendRequest,N=Object(l.useState)(!1),w=Object(o.a)(N,2),k=w[0],y=w[1],C=Object(l.useState)(),E=Object(o.a)(C,2),S=E[0],L=E[1];function D(e){L(e),y(!0)}function _(){y(!1)}function A(){return z.apply(this,arguments)}function z(){return(z=Object(a.a)(r.a.mark((function c(){return r.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return y(!1),c.prev=1,c.next=4,v("".concat("https://exerapp.herokuapp.com","/exercises/").concat(t.userId,"/").concat(S),"DELETE",null,{"Content-Type":"application/json",Authorization:"Bearer "+t.token});case 4:e.onDeleteExercise(S),c.next=10;break;case 7:c.prev=7,c.t0=c.catch(1),console.log(c.t0);case 10:case"end":return c.stop()}}),c,null,[[1,7]])})))).apply(this,arguments)}return 0===e.items.length?Object(i.jsx)("div",{className:"exercise-list center",children:Object(i.jsxs)(j.a,{children:[Object(i.jsx)("h2",{children:" No exercises found. Create one?"}),Object(i.jsx)(d.a,{to:"/exercises/create/",children:" New Exercise "})]})}):Object(i.jsxs)("div",{className:"center",children:[Object(i.jsx)(x.a,{error:s,onClear:b}),k&&Object(i.jsx)(f.a,{show:k,onCancel:_,header:"Are you sure?",footerClass:"place-item__modal-actions",footer:Object(i.jsxs)(u.a.Fragment,{children:[Object(i.jsxs)(d.a,{inverse:!0,onClick:_,children:[" ","CANCEL"," "]}),Object(i.jsxs)(d.a,{danger:!0,onClick:A,children:[" ","DELETE"," "]})]}),children:Object(i.jsx)("p",{children:"Would you like to Delete this Exercise?"})}),n&&Object(i.jsx)(O.a,{asOverlay:!0}),Object(i.jsx)(g.a,{options:e.dropdownOptions,onChange:e.filter,placeholder:"Filter"}),Object(i.jsxs)("table",{className:"exercise-table",children:[Object(i.jsx)("thead",{children:Object(i.jsxs)("tr",{className:"exercise-row title center",children:[Object(i.jsx)("th",{className:"exercise-column",children:"Exercise"}),Object(i.jsx)("th",{className:"exercise-column",children:"Body Location"}),Object(i.jsx)("th",{className:"exercise-column",children:"Reps"}),Object(i.jsx)("th",{className:"exercise-column",children:"Sets"}),Object(i.jsx)("th",{className:"exercise-column",children:"Weight (lbs)"}),Object(i.jsx)("th",{className:"exercise-column",children:"Date"}),Object(i.jsx)("th",{className:"exercise-column",children:"Actions"})]})}),Object(i.jsx)("tbody",{children:e.items.map((function(e){return Object(i.jsx)(h,{className:"exercise-item center",id:e.id,title:e.title,bodyLocation:e.bodyLocation,reps:e.reps,sets:e.sets,weight:e.weight,date:e.date,showWarning:D,cancelWarning:_,confirmDeleteHandler:A},e.id)}))})]}),Object(i.jsx)(d.a,{to:"/exercises/create",children:" New Exercise "})]})};c(70);t.default=function(){var e=Object(l.useState)(),t=Object(o.a)(e,2),c=t[0],n=t[1],u=Object(l.useState)(),d=Object(o.a)(u,2),j=d[0],b=d[1],h=Object(m.a)(),f=h.isLoading,v=h.error,g=h.sendRequest,w=h.clearError,k=Object(l.useState)(),y=Object(o.a)(k,2),C=y[0],E=y[1],S=Object(l.useContext)(p.a);return Object(l.useEffect)((function(){function e(){return(e=Object(a.a)(r.a.mark((function e(){var t,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g("".concat("https://exerapp.herokuapp.com","/exercises/").concat(S.userId),"GET",null,{Authorization:"Bearer "+S.token});case 3:t=e.sent,c=t.exercises.sort((function(e,t){return e.date>=t.date?-1:e.date<t.date?1:-1})),n(c),b(c),E([].concat(Object(s.a)(new Set(c.map((function(e){return e.bodyLocation})))),["all"])),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[g,S.userId,S.token]),Object(i.jsxs)("div",{children:[Object(i.jsx)(x.a,{error:v,onClear:w}),f&&Object(i.jsx)("div",{className:"center",children:Object(i.jsx)(O.a,{onOverlay:!0})}),!f&&c&&Object(i.jsx)(N,{items:c,onDeleteExercise:function(e){n((function(t){return t.filter((function(t){return t.id!==e}))}))},filter:function(e){"all"===e.value?n(j):n(j.filter((function(t){return t.bodyLocation===e.value})))},dropdownOptions:C})]})}},53:function(e,t,c){"use strict";var n=c(1),r=(c(0),c(9));c(57);t.a=function(e){return e.href?Object(n.jsx)("a",{className:"button button--".concat(e.size||"default"," ").concat(e.inverse&&"button--inverse"," ").concat(e.danger&&"button--danger"),href:e.href,children:e.children}):e.to?Object(n.jsx)(r.b,{to:e.to,exact:e.exact,className:"button button--".concat(e.size||"default"," ").concat(e.inverse&&"button--inverse"," ").concat(e.danger&&"button--danger"),children:e.children}):Object(n.jsx)("button",{className:"button button--".concat(e.size||"default"," ").concat(e.inverse&&"button--inverse"," ").concat(e.danger&&"button--danger"),type:e.type,onClick:e.onClick,disabled:e.disabled,children:e.children})}},57:function(e,t,c){},59:function(e,t,c){"use strict";var n=c(1),r=(c(0),c(63)),s=c(53);t.a=function(e){return Object(n.jsx)(r.a,{onCancel:e.onClear,header:"An Error Occurred!",show:!!e.error,footer:Object(n.jsx)(s.a,{onClick:e.onClear,children:"Okay"}),children:Object(n.jsx)("p",{children:e.error})})}},60:function(e,t,c){"use strict";c.d(t,"a",(function(){return i}));var n=c(54),r=c.n(n),s=c(55),a=c(11),o=c(0);function i(){var e=Object(o.useState)(!1),t=Object(a.a)(e,2),c=t[0],n=t[1],i=Object(o.useState)(),l=Object(a.a)(i,2),u=l[0],d=l[1],j=Object(o.useRef)([]),b=Object(o.useCallback)(function(){var e=Object(s.a)(r.a.mark((function e(t){var c,s,a,o,i,l,u=arguments;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=u.length>1&&void 0!==u[1]?u[1]:"GET",s=u.length>2&&void 0!==u[2]?u[2]:null,a=u.length>3&&void 0!==u[3]?u[3]:{},n(!0),o=new AbortController,j.current.push(o),e.prev=6,e.next=9,fetch(t,{method:c,body:s,headers:a,signal:o.signal});case 9:return i=e.sent,e.next=12,i.json();case 12:if(l=e.sent,j.current=j.current.filter((function(e){return e!==o})),i.ok){e.next=16;break}throw new Error(l.message);case 16:return n(!1),e.abrupt("return",l);case 20:throw e.prev=20,e.t0=e.catch(6),d(e.t0.message||"Something went wrong, please try again"),n(!1),e.t0;case 25:case"end":return e.stop()}}),e,null,[[6,20]])})));return function(t){return e.apply(this,arguments)}}(),[]);return Object(o.useEffect)((function(){return function(){j.current.forEach((function(e){return e.abort()}))}}),[]),{isLoading:c,error:u,sendRequest:b,clearError:function(){d(null)}}}},61:function(e,t,c){"use strict";var n=c(1);c(0),c(64);t.a=function(e){return Object(n.jsx)("div",{className:"card ".concat(e.className),style:e.style,children:e.children})}},63:function(e,t,c){"use strict";var n=c(56),r=c(1),s=c(0),a=c.n(s),o=c(7),i=c.n(o),l=c(49),u=c(20);c(65);function d(e){var t=Object(r.jsx)(a.a.Fragment,{children:Object(r.jsxs)("div",{className:"modal ".concat(e.className),style:e.style,children:[Object(r.jsx)("header",{className:"modal__header ".concat(e.headerClass),children:Object(r.jsx)("h2",{children:e.header})}),Object(r.jsxs)("form",{onSubmit:e.onSubmit?e.onSubmit:function(e){return e.preventDefault()},children:[Object(r.jsx)("div",{className:"modal__content ".concat(e.contentClass),children:e.children}),Object(r.jsx)("footer",{className:"modal__footer ".concat(e.footerClass),children:e.footer})]})]})});return i.a.createPortal(t,document.getElementById("modal-hook"))}t.a=function(e){return Object(r.jsxs)("div",{children:[e.show&&Object(r.jsx)(u.a,{onClick:e.onCancel}),Object(r.jsx)(l.a,{in:e.show,mountOnEnter:!0,unmountOnExit:!0,timeout:200,classNames:"modal",children:Object(r.jsx)(d,Object(n.a)({},e))})]})}},64:function(e,t,c){},65:function(e,t,c){},70:function(e,t,c){}}]);
//# sourceMappingURL=7.5872878e.chunk.js.map